---
import BaseLayout from "@/layouts/BaseLayout.astro";
import ChapterNavigation from "@/components/Novel/ChapterNavigation.astro";
import StickyNavigation from "@/components/Novel/StickyNavigation.astro";
import BigNextButton from "@/components/Novel/BigNextButton.astro";
import ReadingProgress from "@/components/Novel/ReadingProgress.astro";
import AdSenseSlot from "@/components/Novel/AdSenseSlot.astro";

interface LinkInfo {
  title: string;
  href: string;
}

interface Props {
  title: string;
  description?: string;
  prev?: LinkInfo;
  next?: LinkInfo;
}

const { title, description, prev, next } = Astro.props;
---

<BaseLayout title={title} description={description}>
  <article class="prose-novel">
    <h1 class="mb-8 font-body text-3xl font-semibold leading-tight">{title}</h1>
    <slot />
  </article>
  <AdSenseSlot slotId="chapter-end" />
  <BigNextButton href={next?.href} title={next?.title} />
  <ChapterNavigation prev={prev} next={next} />
  <StickyNavigation prevHref={prev?.href} nextHref={next?.href} />
  <ReadingProgress />
</BaseLayout>
