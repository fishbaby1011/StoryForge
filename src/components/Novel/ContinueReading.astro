---
interface Props {
  fallbackHref?: string;
}

const { fallbackHref = "/novel/" } = Astro.props;
---

<a
  id="continue-reading-link"
  class="inline-flex rounded-xl bg-accent px-5 py-3 font-ui text-sm font-semibold text-white transition hover:opacity-90"
  href={fallbackHref}
>
  Start Reading: Chapter 1
</a>

<script is:inline>
  const storageKey = "novel:lastPath";
  const link = document.getElementById("continue-reading-link");
  const lastPath = localStorage.getItem(storageKey);
  if (link && lastPath) {
    link.setAttribute("href", lastPath);
    link.textContent = "Continue Reading";
  }
</script>
